name: Check all versions

on: workflow_dispatch

jobs:
  linux:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        version:
          - 2008
          - 2009
          - 2010
          - 2011
          - 2012
          - 2013
          - 2014
          - 2015
          - 2016
          - 2017
          - 2018
          - 2019
          - 2020
          - 2021
      fail-fast: false
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Install TeX Live
        uses: ./
        with:
          version: ${{ matrix.version }}
          cache: false

      - run: tlmgr --version

  windows:
    runs-on: windows-latest
    strategy:
      matrix:
        version:
          - 2008
          - 2009
          - 2010
          - 2011
          - 2012
          - 2013
          - 2014
          - 2015
          - 2016
          - 2017
          - 2018
          - 2019
          - 2020
          - 2021
      fail-fast: false
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Install TeX Live
        uses: ./
        with:
          version: ${{ matrix.version }}
          cache: false

      - run: tlmgr --version

  macos:
    runs-on: macos-latest
    strategy:
      matrix:
        version:
          - 2013
          - 2014
          - 2015
          - 2016
          - 2017
          - 2018
          - 2019
          - 2020
          - 2021
      fail-fast: false
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Install TeX Live
        uses: ./
        with:
          version: ${{ matrix.version }}
          cache: false

      - run: tlmgr --version
